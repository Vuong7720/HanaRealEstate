!function (e, t) { "object" == typeof exports && "object" == typeof module ? module.exports = t() : "function" == typeof define && define.amd ? define([], t) : "object" == typeof exports ? exports.htmlToFormattedText = t() : e.htmlToFormattedText = t() }(window, function () { return function (e) { var t = {}; function n(r) { if (t[r]) return t[r].exports; var o = t[r] = { i: r, l: !1, exports: {} }; return e[r].call(o.exports, o, o.exports, n), o.l = !0, o.exports } return n.m = e, n.c = t, n.d = function (e, t, r) { n.o(e, t) || Object.defineProperty(e, t, { enumerable: !0, get: r }) }, n.r = function (e) { "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, { value: "Module" }), Object.defineProperty(e, "__esModule", { value: !0 }) }, n.t = function (e, t) { if (1 & t && (e = n(e)), 8 & t) return e; if (4 & t && "object" == typeof e && e && e.__esModule) return e; var r = Object.create(null); if (n.r(r), Object.defineProperty(r, "default", { enumerable: !0, value: e }), 2 & t && "string" != typeof e) for (var o in e) n.d(r, o, function (t) { return e[t] }.bind(null, o)); return r }, n.n = function (e) { var t = e && e.__esModule ? function () { return e.default } : function () { return e }; return n.d(t, "a", t), t }, n.o = function (e, t) { return Object.prototype.hasOwnProperty.call(e, t) }, n.p = "", n(n.s = 0) }([function (e, t, n) { "use strict"; var r = function (e) { return e && e.__esModule ? e : { default: e } }(n(1)), o = n(2); var u = ["p", "div", "br", "hr", "title", "h1", "h2", "h3", "h4", "h5", "h6", "ol", "ul", "li", "pre", "table", "th", "td", "blockquote", "header", "footer", "nav", "section", "summary", "aside", "article", "address"]; e.exports = (0, o.compose)(function (e) { return e.replace(/^\n+/, "") }, function (e) { return e.replace(/\n+$/, "") }, function (e) { return e.replace(/\n\n/g, "\n") }, function (e) { return e.replace(/&nbsp;/g, " ") }, function (e) { return (0, r.default)(e, [], "\n") }, function (e) { return (0, r.default)(e, u) }) }, function (e, t, n) { "use strict"; var r; !function (o) { if ("function" != typeof u) { var u = function (e) { return e }; u.nonNative = !0 } const a = u("plaintext"), i = u("html"), f = u("comment"), c = /<(\w*)>/g, l = /<\/?([^\s\/>]+)/; function s(e, t, n) { return p(e = e || "", d(t = t || [], n = n || "")) } function d(e, t) { return { allowable_tags: e = function (e) { let t = new Set; if ("string" == typeof e) { let n; for (; n = c.exec(e);)t.add(n[1]) } else u.nonNative || "function" != typeof e[u.iterator] ? "function" == typeof e.forEach && e.forEach(t.add, t) : t = new Set(e); return t }(e), tag_replacement: t, state: a, tag_buffer: "", depth: 0, in_quote_char: "" } } function p(e, t) { let n = t.allowable_tags, r = t.tag_replacement, o = t.state, u = t.tag_buffer, c = t.depth, l = t.in_quote_char, s = ""; for (let t = 0, d = e.length; t < d; t++) { let d = e[t]; if (o === a) switch (d) { case "<": o = i, u += d; break; default: s += d } else if (o === i) switch (d) { case "<": if (l) break; c++; break; case ">": if (l) break; if (c) { c--; break } l = "", o = a, u += ">", n.has(b(u)) ? s += u : s += r, u = ""; break; case '"': case "'": l = d === l ? "" : l || d, u += d; break; case "-": "<!-" === u && (o = f), u += d; break; case " ": case "\n": if ("<" === u) { o = a, s += "< ", u = ""; break } u += d; break; default: u += d } else if (o === f) switch (d) { case ">": "--" == u.slice(-2) && (o = a), u = ""; break; default: u += d } } return t.state = o, t.tag_buffer = u, t.depth = c, t.in_quote_char = l, s } function b(e) { let t = l.exec(e); return t ? t[1].toLowerCase() : null } s.init_streaming_mode = function (e, t) { let n = d(e = e || [], t = t || ""); return function (e) { return p(e || "", n) } }, void 0 === (r = function () { return s }.call(t, n, t, e)) || (e.exports = r) }() }, function (e, t, n) { "use strict"; e.exports = { compose: function () { for (var e = arguments.length, t = Array(e), n = 0; n < e; n++)t[n] = arguments[n]; return t.reduce(function (e, t) { return function () { return e(t.apply(void 0, arguments)) } }) } } }]) });
//# sourceMappingURL=index.umd.min.js.map